<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
          integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
</head>
<body>
<!--Навигационная панель-->
<div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark ">
        <div class="row">
            <div class="example-content-main mr-2" style="color: white">
                <h3 th:text="${owner.getEmail()}"></h3>
            </div>

            <div style="color: white" class="mr-2">
                <h3><small> with roles: </small></h3>
            </div>
            <div style="color: white">
                <h3 th:text="${owner.getAuthorities()}"></h3>
            </div>
        </div>
        <div class="col">
            <a class="close logout-container top-0 align-items-end offset-md-9" style="color: gray" href="/logout">
                Logout </a>
        </div>
    </nav>
</div>


<div style="display: flex">
    <!--Левый блок-->
    <div style=" width: 15%; height: 100%">

        <div class="row">
            <div class="nav flex-column nav-pills w-100" id="v-pills-tab" role="tablist"
                 aria-orientation="vertical">

                <form action="/admin/allusers">
                    <button type="submit" role="tab" class="nav-link"
                            style="display: flex; place-content: center; width: 220px"
                            aria-pressed="true" aria-current="page" aria-selected="false">Admin
                    </button>
                </form>

                <form action="/admin/userpage">
                    <input type="hidden" name="id" th:value="${owner.id}">
                    <button type="submit" role="tab" class="nav-link active"
                            style="display: flex; place-content: center; width: 220px"
                            aria-pressed="true" aria-current="page" aria-selected="true">User
                    </button>
                </form>


            </div>
        </div>

    </div>


    <div style="width: 85%; background-color: aliceblue; height: 100vh">
        <!--Правый блок-->

        <div style="float: right; width: 100%; height: 100%">

            <h1>Admin panel</h1>
            <ul class="nav nav-tabs">
                <li class="nav-item active-table-tab">
                    <a class="nav-link" aria-current="page" href="/admin/allusers">Users table</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/admin/user/new">New User</a>
                </li>
            </ul>
            <div class="row" style="width: 1200px">
                <div class="mx-auto d-flex shadow p-3 mb-5 bg-white rounded">
                    <form th:method="POST" th:action="@{/admin}" th:object="${newUser}"
                          class="d-flex flex-column align-items-center">

                        <label class="row justify-content-center " for="name"
                               style="font-weight: bold;">Enter your name: </label>
                        <input type="text" th:field="*{name}" id="name" required>
                        <br>
                        <label class="row justify-content-center" for="lastName"
                               style="font-weight: bold">Enter your lastname: </label>
                        <input type="text" th:field="*{lastName}" id="lastName" required>
                        <br>
                        <label class="row justify-content-center " for="age"
                               style="font-weight: bold">Enter your age</label>
                        <input type="number" th:field="*{age}" id="age" required>
                        <br>
                        <label class="row justify-content-center " for="email"
                               style="font-weight: bold">Enter your email</label>
                        <input type="text" th:field="*{email}" id="email" required>
                        <br>
                        <label class="row justify-content-center " for="pass"
                               style="font-weight: bold">Enter password</label>
                        <input type="text" th:field="*{password}" id="pass" required>
                        <br>
                        <form method="POST" th:action="@{/admin}" th:object="${newUser}">
                            <!--        Multiple тоже работает-->
                            <!--        <label for="roles">Choose role:</label>-->
                            <!--        <select id="roles" name="roles" multiple="multiple">-->
                            <!--            <option th:each="role : ${list_role}" th:value="${role.id}" th:text="${role.role}"></option>-->
                            <!--        </select>-->

                            <p><strong>Choose role:</strong></p>

                            <div class="form-check" th:each="roles : ${list_role}">
                                <input class="form-check-input" type="checkbox"
                                       th:value="${roles.id}" th:text="${roles.role}" id="flexCheck" name="roles">
                                <label for="flexCheck" class="form-check-label"></label>
                            </div>

                            <input type="submit" value="Add new user" class="btn btn-success">
                        </form>

                    </form>
                </div>

            </div>
        </div>
        <br>

    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>


</body>
</html>